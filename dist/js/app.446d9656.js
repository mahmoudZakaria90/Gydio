(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},s={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Gydio/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01a6":function(e,t,r){"use strict";var a=r("369b"),s=r.n(a);s.a},"08ee":function(e,t,r){"use strict";var a=r("f55c"),s=r.n(a);s.a},"0aa1":function(e,t,r){"use strict";var a=r("3565"),s=r.n(a);s.a},1778:function(e,t,r){"use strict";var a=r("78b8"),s=r.n(a);s.a},"1c0f":function(e,t,r){},"24d8":function(e,t,r){"use strict";var a=r("bada"),s=r.n(a);s.a},"25d7":function(e,t,r){},"2bd0":function(e,t,r){e.exports=r.p+"img/user-placeholder.c3e2f71c.jpg"},3489:function(e,t,r){},3565:function(e,t,r){},"369b":function(e,t,r){},"4dcb":function(e,t,r){},5024:function(e,t,r){"use strict";var a=r("bf07"),s=r.n(a);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["Uploader"!==e.$route.name?r("Header"):e._e(),r("router-view")],1)},n=[],o={name:"App"},i=o,c=r("2877"),l=Object(c["a"])(i,s,n,!1,null,null,null),u=l.exports,d=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Header",{scopedSlots:e._u([{key:"nav-left",fn:function(){return[r("router-link",{attrs:{to:"/explore"}},[e._v("Explore")])]},proxy:!0}])}),r("div",{staticClass:"uploader container"},[e._m(0),r("h2",{staticClass:"uploader-title"},[e._v("Upload your fav track.")]),r("div",{staticClass:"uploader-placeholder"},[r("input",{attrs:{id:"file_uploader",type:"file",disabled:e.youtube.url||e.track.isProgress,hidden:""},domProps:{value:null},on:{change:e.handleFile}}),r("label",{staticClass:"uploader-placeholder-btn",attrs:{for:"file_uploader"}},[e._v(" Choose file "),r("font-awesome-icon",{attrs:{icon:["fas","plus-circle"]}})],1),r("span",[e._v(e._s(e.track.fileName))]),e.track.blob&&e.track.fileName&&!e.track.isProgress?r("font-awesome-icon",{staticClass:"cursor-pointer",attrs:{icon:["far","times-circle"]},on:{click:e.removeBlob}}):e._e(),r("p",[e._v("Or")])],1),r("div",{staticClass:"external-link"},[r("div",{staticClass:"external-link-inner"},[r("TextInput",{attrs:{label:"Copy/paste an external link e.g. youtube",isDisabled:Boolean(e.track.blob),isValid:e.youtube.isValid,hasError:e.youtube.isError,errorMsg:e.youtube.validationErrorMsg,handleOnChange:e.validateExternalURL},model:{value:e.youtube.url,callback:function(t){e.$set(e.youtube,"url",t)},expression:"youtube.url"}})],1)]),e.track.isProgress?r("div",{staticClass:"progress-outer"},[r("Message",{attrs:{text:e.track.progressState,icon:e.track.isSuccess?["fas","check-circle"]:null,iconStyle:{color:"lightgreen"},color:e.track.isCancelled?"red":null}}),r("div",{staticClass:"progress"},[r("span",[e._v(e._s(e.track.progress)+"%")]),r("span",{staticClass:"progress-inner",style:{width:e.track.progress+"%"}}),r("font-awesome-icon",{ref:"cancelUploadEl",staticClass:"progress-cancel cursor-pointer",attrs:{icon:["far","times-circle"]}})],1),r("strong",[e._v(" "+e._s(e.track.bytesTransferred/1e6+" / "+e.track.totalBytes/1e6+" MB")+" ")])],1):e._e(),r("div",{staticClass:"uploader-btn-wrap"},[r("button",e._g({attrs:{disabled:!e.track.blob&&!e.youtube.url||e.youtube.isError||e.track.isProgress}},{click:e.track.blob?e.upload_track:e.upload_youtube}),[e._v(" Upload "),r("font-awesome-icon",{attrs:{icon:["fas","arrow-circle-up"]}})],1),e.youtube.isSuccess?r("Message",{attrs:{text:e.youtube.successMsg,icon:e.youtube.isSuccess?["fas","check-circle"]:null,iconStyle:{color:"lightgreen"}}}):e._e(),e.track.uploadErrorMsg?r("Message",{attrs:{color:"red",text:e.track.uploadErrorMsg}}):e._e(),e.youtube.uploadErrorMsg?r("Message",{attrs:{color:"red",text:e.youtube.uploadErrorMsg}}):e._e()],1)])],1)},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"intro"},[r("h1",[e._v("Gydio")]),r("p",[e._v(" Your favorite place for "),r("strong",[e._v("Gaming/Cartoon")]),e._v(" related Music, Themes and Soundtracks. ")])])}],f=(r("4160"),r("b0c0"),r("ac1f"),r("466d"),r("1276"),r("159b"),r("3835")),h=(r("96cf"),r("1da1")),b=r("59ca"),g=r.n(b),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{style:Object.assign({},e.styleObj,{color:e.color})},[r("span",[e._v(e._s(e.text))]),e.icon?r("font-awesome-icon",{style:e.iconStyle,attrs:{icon:e.icon}}):e._e()],1)},y=[],k={name:"Message",props:{text:String,color:String,styleObj:Object,icon:Array,iconStyle:Object}},_=k,E=Object(c["a"])(_,v,y,!1,null,null,null),w=E.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",[r("span",{staticClass:"text-input-label"},[e._v(e._s(e.label)+" "+e._s(e.isRequired?"*":""))]),e.isSubmitted&&e.isRequired&&!Boolean(e.injectedVal)?r("Message",{attrs:{text:"This field is required!",color:"red",styleObj:{display:"inline-block"}}}):e._e(),e.isValid?r("font-awesome-icon",{attrs:{icon:["fas","check-circle"]}}):e._e(),"checkbox"===(e.inputType||"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.injectedVal,expression:"injectedVal"}],staticClass:"text-input",class:{hasError:e.hasError&&!e.isValid||e.isSubmitted&&e.isRequired&&!Boolean(e.injectedVal)},attrs:{disabled:e.isDisabled,type:"checkbox"},domProps:{checked:Array.isArray(e.injectedVal)?e._i(e.injectedVal,null)>-1:e.injectedVal},on:{change:[function(t){var r=e.injectedVal,a=t.target,s=!!a.checked;if(Array.isArray(r)){var n=null,o=e._i(r,n);a.checked?o<0&&(e.injectedVal=r.concat([n])):o>-1&&(e.injectedVal=r.slice(0,o).concat(r.slice(o+1)))}else e.injectedVal=s},e.handleOnChange]}}):"radio"===(e.inputType||"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.injectedVal,expression:"injectedVal"}],staticClass:"text-input",class:{hasError:e.hasError&&!e.isValid||e.isSubmitted&&e.isRequired&&!Boolean(e.injectedVal)},attrs:{disabled:e.isDisabled,type:"radio"},domProps:{checked:e._q(e.injectedVal,null)},on:{change:[function(t){e.injectedVal=null},e.handleOnChange]}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.injectedVal,expression:"injectedVal"}],staticClass:"text-input",class:{hasError:e.hasError&&!e.isValid||e.isSubmitted&&e.isRequired&&!Boolean(e.injectedVal)},attrs:{disabled:e.isDisabled,type:e.inputType||"text"},domProps:{value:e.injectedVal},on:{change:e.handleOnChange,input:function(t){t.target.composing||(e.injectedVal=t.target.value)}}}),r("Message",{directives:[{name:"show",rawName:"v-show",value:e.hasError&&!e.isValid,expression:"hasError && !isValid"}],attrs:{color:"red",text:e.errorMsg,icon:["far","times-circle"]}})],1)},x=[],P=new a["a"],T={name:"TextInput",components:{Message:w},props:{label:String,inputType:String,value:String,isRequired:Boolean,isSubmitted:Boolean,isValid:Boolean,isDisabled:Boolean,hasError:Boolean,errorMsg:String,handleOnChange:{type:Function,default:function(){}}},data:function(){return{injectedVal:this.value}},mounted:function(){var e=this;P.$on("resetInput",(function(){return e.injectedVal=""}))},watch:{injectedVal:function(){this.$emit("input",this.injectedVal)}}},M=T,j=(r("5024"),Object(c["a"])(M,S,x,!1,null,"3d26c88e",null)),U=j.exports,O=function(e,t,r,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Date.now();return{name:e,size:t,downloadUrl:r,user:a,creationDate:s}},V=function(e,t,r,a,s){return{uid:e,name:t,photoUrl:r,email:a,lastSignInTime:s}},C=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return{videoId:e,user:t,creationDate:r}},R={name:"Uploader",components:{Message:w,TextInput:U},data:function(){return{track:{blob:null,progress:0,bytesTransferred:0,progressState:null,totalBytes:0,fileName:null,isProgress:!1,isSuccess:!1,uploadErrorMsg:null},youtube:{url:null,isSuccess:!1,successMsg:"Video url uploaded successfully!",isError:!1,isValid:!1,validationErrorMsg:"You need to input a vaild youtube video URL.",uploadErrorMsg:null,pattern:/^https:\/\/www.youtube.com\/watch\?v=\w+(-)?\w+/g}}},methods:{handleFile:function(e){var t,r=e.target;if(r.files.length){t=r.files[0];var a=t,s=a.name;this.track.blob=t,this.track.fileName=s}},upload_track:function(){var e=this,t=this.track.blob,r=t.name,a=t.size,s=g.a.auth,n=g.a.storage,o=g.a.firestore,i=o(),c=i.collection("music"),l=n().ref("music/"+r),u=l.put(this.track.blob);this.cancelUpload=function(){e.$refs.cancelUploadEl&&e.$refs.cancelUploadEl.addEventListener("click",(function(){return u.cancel()}))},u.on("state_changed",(function(t){var a=t.bytesTransferred,s=t.totalBytes,n=t.state;if("running"===n){e.track.progressState="Uploading ".concat(r," to Firebase Storage...");var o=Math.floor(a/s*100);e.track.progress=o,e.track.bytesTransferred=a,e.track.totalBytes=s,e.track.isProgress=!0}}),(function(t){e.track.progressState=t.message,e.track.isCancelled=!0,e.resetState("track",[{key:"blob",value:null},{key:"fileName",value:null},{key:"isProgress",value:!1},{key:"isCancelled",value:!1}],2e3)}),Object(h["a"])(regeneratorRuntime.mark((function t(){var n,o,i,u,d,p,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s(),o=n.currentUser,o&&(i=o.uid,u=o.displayName,d=o.photoURL,p=o.email,m=o.metadata.lastSignInTime),t.prev=2,t.next=5,l.getDownloadURL();case 5:return f=t.sent,t.next=8,c.add(O(r,a,f,o&&V(i,u,d,p,m)));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),e.track.uploadErrorMsg=t.t0.message;case 13:e.track.isSuccess=!0,e.track.progressState="Uploading is done successfully.",e.resetState("track",[{key:"blob",value:null},{key:"fileName",value:null},{key:"isProgress",value:!1},{key:"isSuccess",value:!1}],2e3);case 16:case"end":return t.stop()}}),t,null,[[2,10]])}))))},upload_youtube:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,c,l,u,d,p,m,h,b,v,y,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=g.a.auth,a=g.a.firestore,s=r(),n=s.currentUser,n&&(o=n.uid,i=n.displayName,c=n.email,l=n.photoURL,u=n.metadata.lastSignInTime),d=a(),p=d.collection("youtube"),m=e.youtube.url.match(e.youtube.pattern),h=Object(f["a"])(m,1),b=h[0],v=b.split("watch?v="),y=Object(f["a"])(v,2),k=y[1],t.prev=7,t.next=10,p.add(C(k,n&&V(o,i,l,c,u)));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](7),e.youtube.uploadErrorMsg=t.t0.message;case 15:e.youtube.isSuccess=!0,e.resetState("youtube",[{key:"isError",value:!1},{key:"isValid",value:!1},{key:"isSuccess",value:!1},{key:"url",value:""}],2e3,(function(){return P.$emit("resetInput",e.youtube.url)}));case 17:case"end":return t.stop()}}),t,null,[[7,12]])})))()},validateExternalURL:function(){if(!this.youtube.pattern.test(this.youtube.url))return this.youtube.url?(this.youtube.isError=!0,void(this.youtube.isValid=!1)):void(this.youtube.isError=!1);this.youtube.isError=!1,this.youtube.isValid=!0},resetState:function(e,t,r,a){var s=this;setTimeout((function(){t.forEach((function(t){s[e][t.key]=t.value})),a&&a()}),r)},removeBlob:function(){this.track.blob=null,this.track.fileName=null},cancelUpload:function(){}},updated:function(){this.cancelUpload()}},D=R,A=(r("9577"),Object(c["a"])(D,p,m,!1,null,"18050e39",null)),$=A.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container"},[r("h1",[e._v("Explore")]),e.tracks.items.length?e._e():r("Message",{attrs:{text:e.tracks.loadingState}}),e.tracks.errorMsg?r("Message",{attrs:{text:e.tracks.errorMsg,color:"red"}}):e._e(),r("TrackWrapper",{attrs:{row:!0,basis:"col-4"}},e._l(e.tracks.items,(function(t){var a=t.id,s=t.data;return r("Track",{key:a,attrs:{id:a,name:s.name,creationDate:s.creationDate,downloadUrl:s.downloadUrl,selected:a===e.tracks.selectedTrack.id&&e.tracks.selectedTrack.isPlayed,user:s.user,changeSelectedTrack:e.changeSelectedTrack}})})),1)],1),r("div",{staticClass:"container"},[r("h1",[e._v("External videos 'Youtube'")]),e.youtubeTracks.items.length?e._e():r("Message",{attrs:{text:e.youtubeTracks.loadingState}}),e.youtubeTracks.errorMsg?r("Message",{attrs:{text:e.youtubeTracks.errorMsg,color:"red"}}):e._e(),r("TrackWrapper",{attrs:{row:!0,basis:"col-6"}},e._l(e.youtubeTracks.items,(function(e){var t=e.id,a=e.data;return r("ExternalTrack",{key:t,attrs:{id:t,creationDate:a.creationDate,user:a.user,videoId:a.videoId}})})),1)],1),r("audio",{ref:"audio",attrs:{src:e.tracks.selectedTrack.downloadUrl,autoplay:"",controls:"",controlslist:"nodownload"}})])},B=[],N=(r("c740"),r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-wrapper",class:[e.basis,{container:e.container}],style:e.container&&{"max-width":e.container+"px"}},[e.row?r("div",{staticClass:"row"},[e._t("default")],2):e._t("default")],2)}),L=[],H=(r("a9e3"),{name:"Wrapper",props:{basis:String,row:Boolean,container:Number}}),F=H,q=(r("24d8"),Object(c["a"])(F,N,L,!1,null,"6b5738a7",null)),Y=q.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"track col"},[r("div",{staticClass:"track-placeholder cursor-pointer",style:{"background-image":e.img},on:{click:function(){return e.changeSelectedTrack(e.id,e.downloadUrl)}}},[r("font-awesome-icon",{style:{"font-size":"75px"},attrs:{icon:e.selected?["far","pause-circle"]:["far","play-circle"]}})],1),r("div",{staticClass:"track-name",attrs:{title:e.name}},[e._v(e._s(e.name))]),r("Date",{attrs:{creationDate:e.creationDate}}),r("User",{attrs:{user:e.user}})],1)},W=[],z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"track-date"},[r("strong",[e._v("Uploaded:")]),e._v(" "+e._s(e.dateTimeFormatted)+" ")])},K=[],J=(r("99af"),{name:"Date",props:{creationDate:Number},computed:{dateTimeFormatted:function(){var e=new Date(this.creationDate),t=e.toDateString(),r=e.toLocaleTimeString();return"".concat(t,", ").concat(r)}}}),Z=J,Q=(r("e735"),Object(c["a"])(Z,z,K,!1,null,"006748da",null)),X=Q.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(e.user?"router-link":"div",{tag:"div",attrs:{to:e.user?"/profile/"+e.user.uid:null}},[r("img",{staticClass:"user-pic",attrs:{src:e.user?e.user.photoUrl:e.userPlaceholder,alt:""}}),r("span",[e._v(e._s(e.user?e.user.name:"Anonymous"))])])},te=[],re=r("2bd0"),ae=r.n(re),se={name:"User",data:function(){return{userPlaceholder:ae.a}},props:{user:Object}},ne=se,oe=(r("0aa1"),Object(c["a"])(ne,ee,te,!1,null,"ea4d9036",null)),ie=oe.exports,ce={name:"Track",components:{Date:X,User:ie},props:{id:String,name:String,downloadUrl:String,creationDate:Number,img:String,user:Object,selected:Boolean,changeSelectedTrack:Function}},le=ce,ue=(r("08ee"),Object(c["a"])(le,G,W,!1,null,"6d235477",null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col"},[r("div",{staticClass:"youtube-player",attrs:{id:"player"+e.id}}),r("Date",{attrs:{creationDate:e.creationDate}}),r("User",{attrs:{user:e.user}})],1)},me=[],fe=r("43cf"),he=r.n(fe),be={name:"ExternalTrack",components:{Date:X,User:ie},data:function(){return{isPlayed:!1}},props:{id:String,videoId:String,user:Object,creationDate:Number},mounted:function(){var e,t=this,r=function(){P.$on("pauseYoutube",(function(){t.isPlayed&&e.pauseVideo()}))},a=function(r){var a=r.data;1===a?(t.isPlayed=!0,P.$emit("pauseAudio"),P.$emit("allYoutubePlayers",{id:t.id,player:e})):2===a&&(t.isPlayed=!1)};he.a.load((function(s){e=new s.Player("player".concat(t.id),{height:"400",width:"100%",videoId:t.videoId,events:{onReady:r,onStateChange:a}})}))}},ge=be,ve=(r("e6e6"),Object(c["a"])(ge,pe,me,!1,null,"08a8d18a",null)),ye=ve.exports,ke={name:"Explore",components:{Track:de,TrackWrapper:Y,ExternalTrack:ye,Message:w},data:function(){return{tracks:{items:[],selectedTrack:{id:null,downloadUrl:null,isPlayed:!1},loadingState:"Loading...",errorMsg:null},youtubeTracks:{items:[],allYouTubePlayers:[],loadingState:"Loading...",errorMsg:null}}},methods:{changeSelectedTrack:function(e,t){this.tracks.selectedTrack.id=e,this.tracks.selectedTrack.downloadUrl=t,this.tracks.selectedTrack.isPlayed?this.$refs.audio.pause():this.$refs.audio.play()}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return P.$on("pauseAudio",(function(){e.tracks.selectedTrack.isPlayed&&e.$refs.audio.pause()})),P.$on("allYoutubePlayers",(function(t){-1===e.youtubeTracks.allYouTubePlayers.findIndex((function(e){return e.id===t.id}))&&e.youtubeTracks.allYouTubePlayers.push(t),e.youtubeTracks.allYouTubePlayers.length>1&&e.youtubeTracks.allYouTubePlayers.forEach((function(e){e.id!==t.id&&e.player.pauseVideo()}))})),e.$refs.audio.onplay=function(){e.tracks.selectedTrack.isPlayed=!0,P.$emit("pauseYoutube")},e.$refs.audio.onpause=function(){e.tracks.selectedTrack.isPlayed=!1},r=g.a.firestore,a=r(),t.prev=6,t.next=9,a.collection("music").orderBy("creationDate","desc").get();case 9:s=t.sent,n=s.docs,o=n.map((function(e){return{id:e.id,data:e.data()}})),e.tracks.items=o,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),e.tracks.errorMsg=t.t0.message;case 18:return t.prev=18,t.next=21,a.collection("youtube").orderBy("creationDate","desc").get();case 21:i=t.sent,c=i.docs,l=c.map((function(e){return{id:e.id,data:e.data()}})),e.youtubeTracks.items=l,t.next=30;break;case 27:t.prev=27,t.t1=t["catch"](18),e.youtubeTracks.errorMsg=t.t1.message;case 30:e.tracks.items.length&&e.youtubeTracks.items.length||(e.tracks.items.length||(e.tracks.loadingState="No files to explore!"),e.youtubeTracks.items.length||(e.youtubeTracks.loadingState="No videos to explore!"));case 31:case"end":return t.stop()}}),t,null,[[6,15],[18,27]])})))()}},_e=ke,Ee=(r("01a6"),Object(c["a"])(_e,I,B,!1,null,"23c12c7e",null)),we=Ee.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Dialog",{scopedSlots:e._u([{key:"dialog-title",fn:function(){return[e._v("Register")]},proxy:!0},{key:"dialog-body",fn:function(){return[r("Form",{attrs:{isSuccess:e.isSuccess,successMsg:e.successMsg,hasError:e.formHasError,errorMsg:e.formHasError&&e.formHasError.message,handleSubmit:e.handleSubmit}},[r("TextInput",{attrs:{label:"Email",isRequired:!0,isSubmitted:e.isSubmitted,isValid:e.isEmail,hasError:e.email.hasError,errorMsg:e.email.errorMsg},model:{value:e.email.value,callback:function(t){e.$set(e.email,"value",t)},expression:"email.value"}}),r("TextInput",{attrs:{label:"Password",inputType:"password",isRequired:!0,isSubmitted:e.isSubmitted,isValid:e.matchPassword,hasError:e.password.hasError,errorMsg:e.password.errorMsg},model:{value:e.password.value,callback:function(t){e.$set(e.password,"value",t)},expression:"password.value"}}),r("TextInput",{attrs:{label:"Confirm password",inputType:"password",isRequired:!0,isSubmitted:e.isSubmitted,isValid:e.matchPassword,hasError:e.password.hasError,errorMsg:e.password.errorMsg},model:{value:e.password.confirmPassword.value,callback:function(t){e.$set(e.password.confirmPassword,"value",t)},expression:"password.confirmPassword.value"}})],1)]},proxy:!0}])})},xe=[],Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dialog-outer"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"dialog-title"},[e._t("dialog-title")],2),r("div",{staticClass:"dialog-body"},[e._t("dialog-body")],2),e._t("default")],2)])},Te=[],Me={name:"Dialog"},je=Me,Ue=(r("bbae"),Object(c["a"])(je,Pe,Te,!1,null,"14404d46",null)),Oe=Ue.exports,Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[e._t("default"),r("div",{staticClass:"form-submit",staticStyle:{"text-align":"center"}},[r("Button",{attrs:{type:"submit"}},[e._v("Submit")])],1),e.isSuccess?r("Message",{attrs:{color:"green",text:e.successMsg}}):e._e(),e.hasError?r("Message",{attrs:{color:"red",text:e.errorMsg}}):e._e()],2)},Ce=[],Re={name:"Form",components:{Message:w},props:{isSuccess:Boolean,successMsg:String,hasError:Object,errorMsg:String,handleSubmit:Function}},De=Re,Ae=(r("7015"),Object(c["a"])(De,Ve,Ce,!1,null,"1d4aaf5c",null)),$e=Ae.exports,Ie=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},Be={name:"Register",components:{Dialog:Oe,Form:$e,TextInput:U},data:function(){return{email:{value:"",hasError:!1,errorMsg:"Enter a valid email address."},password:{value:"",hasError:!1,errorMsg:"Please match the 2 password inputs.",confirmPassword:{value:""}},isSubmitted:null,isSuccess:null,successMsg:"User has been created successfully.",formHasError:null}},computed:{isEmail:function(){return Ie(this.email.value)},matchPassword:function(){return Boolean(this.password.value)&&Boolean(this.password.confirmPassword.value)&&this.password.value===this.password.confirmPassword.value}},methods:{handleSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isSubmitted=!0,e.email.value&&!e.isEmail?e.email.hasError=!0:e.email.hasError=!1,!e.password.value||!e.password.confirmPassword.value||e.matchPassword){t.next=7;break}return e.password.hasError=!0,t.abrupt("return");case 7:e.password.hasError=!1;case 8:if(!e.isEmail||!e.matchPassword){t.next=25;break}return t.prev=9,t.next=12,g.a.auth().createUserWithEmailAndPassword(e.email.value,e.password.value);case 12:return r=g.a.auth(),a=r.currentUser,t.next=15,a.sendEmailVerification();case 15:setTimeout((function(){e.$router.push("/")}),1e3),e.isSuccess=!0,e.formHasError=null,t.next=25;break;case 20:t.prev=20,t.t0=t["catch"](9),e.isSuccess=!1,e.isSubmitted=!1,e.formHasError=t.t0;case 25:case"end":return t.stop()}}),t,null,[[9,20]])})))()}}},Ne=Be,Le=Object(c["a"])(Ne,Se,xe,!1,null,null,null),He=Le.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Dialog",{scopedSlots:e._u([{key:"dialog-title",fn:function(){return[e._v("Login")]},proxy:!0},{key:"dialog-body",fn:function(){return[r("Form",{attrs:{isSuccess:e.isSuccess,successMsg:e.successMsg,hasError:e.formHasError,errorMsg:e.formHasError&&e.formHasError.message,handleSubmit:e.handleSubmit}},[r("TextInput",{attrs:{label:"Email",isRequired:!0,isSubmitted:e.isSubmitted,isValid:e.isEmail,hasError:e.email.hasError,errorMsg:e.email.errorMsg},model:{value:e.email.value,callback:function(t){e.$set(e.email,"value",t)},expression:"email.value"}}),r("TextInput",{attrs:{label:"Password",inputType:"password",isRequired:!0,isSubmitted:e.isSubmitted,isValid:Boolean(e.password.value)&&e.password.value.length>=6,hasError:e.password.hasError,errorMsg:e.password.errorMsg},model:{value:e.password.value,callback:function(t){e.$set(e.password,"value",t)},expression:"password.value"}}),r("router-link",{staticStyle:{display:"inline-block","margin-bottom":"20px"},attrs:{to:"reset"}},[e._v("Forgot password?")])],1)]},proxy:!0}])},[r("div",{staticClass:"login-social"},[r("Button",{style:{width:"100%","margin-right":0},attrs:{handleClick:e.googleLogin,icon:["fab","google"],variant:"danger"}},[e._v("Login with Google")]),r("Button",{style:{width:"100%","margin-right":0},attrs:{handleClick:e.facebookLogin,icon:["fab","facebook-f"]}},[e._v("Login with Facebook")])],1)])},qe=[],Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{class:[e.iconPosition,e.variant],style:{styleObj:e.styleObj},attrs:{text:e.text,disabled:e.isDisabled,type:e.type},on:{click:e.handleClick}},[e.icon&&"right"!==e.iconPosition?r("font-awesome-icon",{style:e.iconStyle,attrs:{icon:e.icon}}):e._e(),e._t("default"),e.icon&&"right"===e.iconPosition?r("font-awesome-icon",{style:e.iconStyle,attrs:{icon:e.icon}}):e._e()],2)},Ge=[],We={name:"Button",props:{styleObj:Object,variant:String,text:String,type:String,icon:Array,iconStyle:Object,iconPosition:{default:"left",type:String},isDisabled:Boolean,handleClick:{type:Function,default:function(){}}}},ze=We,Ke=(r("f434"),Object(c["a"])(ze,Ye,Ge,!1,null,"4359959d",null)),Je=Ke.exports,Ze={name:"Login",components:{Button:Je,Dialog:Oe,Form:$e,TextInput:U},data:function(){return{email:{value:"",hasError:!1,errorMsg:"Enter a valid email address."},password:{value:"",hasError:!1,errorMsg:""},isSubmitted:null,isSuccess:null,successMsg:"User has been logged in successfully.",formHasError:null}},computed:{isEmail:function(){return Ie(this.email.value)}},methods:{handleSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isSubmitted=!0,!e.email.value||e.isEmail){t.next=6;break}return e.email.hasError=!0,t.abrupt("return");case 6:e.email.hasError=!1;case 7:if(!e.email.value||!e.password.value){t.next=22;break}return t.prev=8,t.next=11,g.a.auth().signInWithEmailAndPassword(e.email.value,e.password.value);case 11:e.isSuccess=!0,e.formHasError=null,setTimeout((function(){e.$router.push("/")}),1e3),t.next=22;break;case 16:t.prev=16,t.t0=t["catch"](8),e.formHasError=t.t0,e.isSuccess=!1,e.isSubmitted=!1,P.$emit("resetInput","");case 22:case"end":return t.stop()}}),t,null,[[8,16]])})))()},facebookLogin:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new g.a.auth.FacebookAuthProvider,t.prev=1,t.next=4,g.a.auth().signInWithPopup(r);case 4:setTimeout((function(){e.$router.push("/")}),1e3),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.formHasError=t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},googleLogin:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new g.a.auth.GoogleAuthProvider,t.prev=1,t.next=4,g.a.auth().signInWithPopup(r);case 4:setTimeout((function(){e.$router.push("/")}),1e3),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.formHasError=t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},Qe=Ze,Xe=(r("7c17"),Object(c["a"])(Qe,Fe,qe,!1,null,"79cc156e",null)),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Dialog",{scopedSlots:e._u([{key:"dialog-title",fn:function(){return[e._v("Reset password")]},proxy:!0},{key:"dialog-body",fn:function(){return[r("Form",{attrs:{isSuccess:e.isSuccess,successMsg:e.successMsg,hasError:e.formHasError,errorMsg:e.formHasError&&e.formHasError.message,handleSubmit:e.handleSubmit}},[r("TextInput",{attrs:{label:"Email",isRequired:!0,isSubmitted:e.isSubmitted,isValid:e.isEmail,hasError:e.email.hasError,errorMsg:e.email.errorMsg},model:{value:e.email.value,callback:function(t){e.$set(e.email,"value",t)},expression:"email.value"}})],1)]},proxy:!0}])})},rt=[],at={name:"Login",components:{Dialog:Oe,Form:$e,TextInput:U},data:function(){return{email:{value:"",hasError:!1,errorMsg:"Enter a valid email address."},isSubmitted:null,isSuccess:null,successMsg:"A reset password email has been sent to your inbox.",formHasError:null}},computed:{isEmail:function(){return Ie(this.email.value)}},methods:{handleSubmit:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isSubmitted=!0,!e.email.value||e.isEmail){t.next=6;break}return e.email.hasError=!0,t.abrupt("return");case 6:e.email.hasError=!1;case 7:if(!e.email.value){t.next=22;break}return t.prev=8,t.next=11,g.a.auth().sendPasswordResetEmail(e.email.value);case 11:e.isSuccess=!0,e.formHasError=null,setTimeout((function(){e.$router.push("/login")}),3e3),t.next=22;break;case 16:t.prev=16,t.t0=t["catch"](8),e.formHasError=t.t0,e.isSuccess=!1,e.isSubmitted=!1,P.$emit("resetInput","");case 22:case"end":return t.stop()}}),t,null,[[8,16]])})))()}}},st=at,nt=Object(c["a"])(st,tt,rt,!1,null,"44b352b3",null),ot=nt.exports,it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.user&&!e.hasError?r("div",{staticClass:"container",staticStyle:{"text-align":"center"}},[e.user.metadata.lastSignInTime?r("p",[e._v(" Last sign-in on: "),r("strong",[e._v(e._s(e.user.metadata.lastSignInTime))])]):e._e(),r("h1",[r("span",{staticStyle:{color:"lightcoral"}},[e._v(e._s(e.user.displayName))]),e._v("'s profile. ")]),r("div",{staticStyle:{"margin-bottom":"10px"}},[r("img",{attrs:{src:e.user.photoURL,alt:""}})]),r("div",[r("h1",[e._v("Email")]),e._v(" "+e._s(e.user.email)+" ")])]):e._e(),r("div",{staticClass:"container"},[e.hasError?r("Message",{attrs:{color:"red",text:e.errorMsg}}):e._e()],1)])},ct=[],lt=(r("d3b7"),{name:"Profile",components:{Message:w},data:function(){return{user:null,hasError:!1,errorMsg:"User is not found (404)"}},methods:{getUser:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="https://gydio-server.herokuapp.com/api/users/",r.prev=1,r.next=4,fetch("".concat(a).concat(e));case 4:return s=r.sent,r.next=7,s.json();case 7:n=r.sent,t.user=n,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),t.hasError=!0;case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()}},mounted:function(){this.getUser(this.$route.params.id)},beforeRouteUpdate:function(e,t,r){this.getUser(e.params.id),r()}}),ut=lt,dt=(r("1778"),Object(c["a"])(ut,it,ct,!1,null,"d337d37c",null)),pt=dt.exports;a["a"].use(d["a"]);var mt=[{path:"/",component:$,name:"Uploader"},{path:"/explore",component:we,name:"Explore"},{path:"/register",component:He,name:"Register"},{path:"/login",component:et,name:"Login"},{path:"/reset",component:ot,name:"Reset"},{path:"/profile/:id",component:pt,name:"Profile"}],ft=new d["a"]({routes:mt}),ht=r("ecee"),bt=r("c074"),gt=r("b702"),vt=r("f2d1"),yt=r("ad3d"),kt=(r("1c0f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header",[r("nav",{staticClass:"nav"},[e._t("nav-left",[r("a",{attrs:{href:"#"},on:{click:e.stepBackward}},[e._v("Back")])]),e.user?r("ul",{staticClass:"nav-right"},[e.user.email&&!e.user.displayName?r("li",[e._v(" Welcome back, "),r("strong",[e._v(e._s(e.emailUsername))])]):e.user.displayName?r("li",[e._v(" Welcome back, "),r("router-link",{attrs:{to:"/profile/"+e.user.uid}},[r("strong",[e._v(e._s(e.firstName))])])],1):e._e(),e.user.photoURL?r("li",{staticClass:"nav-right-img"},[r("img",{attrs:{src:e.user.photoURL,alt:""}})]):e._e(),r("li",[r("a",{on:{click:function(t){return t.preventDefault(),e.signOut(t)}}},[e._v("Logout")])])]):r("ul",{staticClass:"nav-right"},[r("li",[r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),r("li",[r("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1)])],2)])])}),_t=[],Et={name:"Header",data:function(){return{user:null,firstName:null,emailUsername:null,isAuthenticated:!1}},methods:{signOut:function(){g.a.auth().signOut()},stepBackward:function(){this.$router.go(-1)}},mounted:function(){var e=this;g.a.auth().onAuthStateChanged((function(t){if(t){e.user=t;var r=t.email&&t.email.split("@")[0],a=t.displayName&&t.displayName.split(" ")[0];return e.firstName=a,void(e.emailUsername=r)}e.user=null}))}},wt=Et,St=(r("f213"),Object(c["a"])(wt,kt,_t,!1,null,"a4a56370",null)),xt=St.exports;r("588e"),r("ea7b"),r("66ce"),r("e71f");ht["c"].add(bt["c"],bt["b"],bt["a"],gt["c"],vt["a"],vt["b"],gt["b"],gt["a"]),a["a"].component("font-awesome-icon",yt["a"]),a["a"].component("Header",xt);var Pt=Object({VUE_APP_USERS_ENDPOINT:"https://gydio-server.herokuapp.com/api/users/",NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyBcgNUdZo31IDTvypMjfHvPPms3EPWAycM",VUE_APP_AUTH_DOMAIN:"musicstream-cb9d3.firebaseapp.com",VUE_APP_DATA_BASEURL:"https://musicstream-cb9d3.firebaseio.com",VUE_APP_PROJECT_ID:"musicstream-cb9d3",VUE_APP_STORAGE_BUCKET:"musicstream-cb9d3.appspot.com",VUE_APP_MESSAGING_SENDER_ID:"801591518704",VUE_APP_APP_ID:"1:801591518704:web:fe152ffb22de13e8fc2935",BASE_URL:"/Gydio/dist/"}),Tt=Pt.VUE_APP_API_KEY,Mt=Pt.VUE_APP_AUTH_DOMAIN,jt=Pt.VUE_APP_DATA_BASEURL,Ut=Pt.VUE_APP_PROJECT_ID,Ot=Pt.VUE_APP_STORAGE_BUCKET,Vt=Pt.VUE_APP_MESSAGING_SENDER_ID,Ct=Pt.VUE_APP_APP_ID,Rt={apiKey:Tt,authDomain:Mt,databaseURL:jt,projectId:Ut,storageBucket:Ot,messagingSenderId:Vt,appId:Ct};g.a.initializeApp(Rt),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(u)},router:ft}).$mount("#app")},7015:function(e,t,r){"use strict";var a=r("7b5e"),s=r.n(a);s.a},"78b8":function(e,t,r){},"7b5e":function(e,t,r){},"7c17":function(e,t,r){"use strict";var a=r("d153"),s=r.n(a);s.a},9577:function(e,t,r){"use strict";var a=r("a2fc"),s=r.n(a);s.a},a2fc:function(e,t,r){},bada:function(e,t,r){},bbae:function(e,t,r){"use strict";var a=r("25d7"),s=r.n(a);s.a},bf07:function(e,t,r){},d153:function(e,t,r){},d164:function(e,t,r){},e463:function(e,t,r){},e6e6:function(e,t,r){"use strict";var a=r("3489"),s=r.n(a);s.a},e735:function(e,t,r){"use strict";var a=r("e463"),s=r.n(a);s.a},f213:function(e,t,r){"use strict";var a=r("4dcb"),s=r.n(a);s.a},f434:function(e,t,r){"use strict";var a=r("d164"),s=r.n(a);s.a},f55c:function(e,t,r){}});
//# sourceMappingURL=app.446d9656.js.map